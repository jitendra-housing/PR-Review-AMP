# GitHub Configuration
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_USERNAME=vision-housing
PORT=3000

# Agent Selection
# Options: "amp" (Amp CLI) or "claude" (Claude API)
AGENT=amp

# Claude API Configuration (only required if AGENT=claude)
ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# Model Selection
# For Amp: "sonnet" (Sonnet 4.5, --mode large) or "opus" (Opus 4.5, --mode smart)
# For Claude: "sonnet" (4.5), "opus" (4.5), or "haiku" (3.5)
MODEL=sonnet

# Queue Management
# Set to true for sequential reviews (one at a time), false for parallel
USE_QUEUE=true

# Amp-Specific Configuration (only used if AGENT=amp)
# Set to true to see interactive Amp session, false for background mode
TEST_MODE=false

# Set to true for RAG-based review (faster, no clone), false for local repo review
USE_RAG=true

# Advanced Configuration
# Callback URL for review completion (default: http://localhost:3000/review-complete)
CALLBACK_URL=http://localhost:3000/review-complete

# Fallback Configuration (optional)
# Set to true to fallback to Amp if Claude fails
FALLBACK_TO_AMP=false

# Context Strategy Configuration (Claude only)
# Options: SEMANTIC_SEARCH (recommended), FULL_FILES, DIFF_ONLY
# - SEMANTIC_SEARCH: Use MCP semantic search for RAG-style code retrieval (best quality)
# - FULL_FILES: Fetch complete file content from GitHub (good balance)
# - DIFF_ONLY: Only use patches (fast but limited context)
CONTEXT_STRATEGY=SEMANTIC_SEARCH

# Semantic Search Configuration (only required if CONTEXT_STRATEGY=SEMANTIC_SEARCH)
# Enable MCP server integration for semantic code search
MCP_SERVER_ENABLED=true

# Maximum number of related code snippets to retrieve per file
SEMANTIC_SEARCH_LIMIT=10

# Relevance score threshold (0-1, higher = more strict)
SEMANTIC_SEARCH_THRESHOLD=0.7

# Fallback Strategy (if primary strategy fails)
# Options: FULL_FILES, DIFF_ONLY
FALLBACK_STRATEGY=FULL_FILES

# Safety Limits (prevent runaway costs on large PRs)
# Maximum DEEP files to review individually (most expensive)
MAX_DEEP_FILES=25
# Maximum total files to review
MAX_TOTAL_FILES=50
# Maximum characters to include from a single file (50K chars ~ 12.5K tokens)
MAX_CONTENT_CHARS=50000

# Debug Configuration
# Enable to see Claude's raw responses for debugging parsing issues
DEBUG_REVIEWS=false
